# mobile-app-vulnerability-scanner
Set of simple services that be can used to scan mobile app for vulnerable defects

## API to scan an app 

Only accepts apk for now

```
METHOD:- POST
API:- http://localhost:4001/app/scan
formdata {
  "file": "apk",
}
```

### Scanner API
Uploads an app to Azure container and saves the record in `applications` collection also publishes a message to Redis queue with appId and fileName

### Scanner Redis Subscriber
Subscribes to the queue, upon receiving a message it downloads the file from the azure container and then submits the app to the external service for scan, it also saves the scanId against the appId in redis

### Scanner Schedular
It fetches all the unapproved apps from the DB, using the appIds it fetches the scanIds from the redis, calls an external service to fetch the scan status and report of an submitted app using the scanId and if the status is completed it updates the app status to approved in `applications` collection along with saving a report in `scanreports` collection.

### Run
Clone the app and run ```npm start``` in each of the services

